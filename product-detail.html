<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Be Nice | Product Detail</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="icon" href="WhatsApp Image 2026-01-16 at 5.53.25 PM.jpeg" type="image/x-icon">

    <style>
        :root { --sage: #8FB090; --cream: #FDFCF0; }
        body { background: var(--cream); font-family: 'Inter', sans-serif; overflow-x: hidden; }
        
        .back-btn { display: inline-flex; align-items: center; gap: 8px; margin: 20px 0; color: #333; text-decoration: none; font-weight: 600; transition: 0.3s; font-size: 14px; }
        .back-btn:hover { color: var(--sage); transform: translateX(-5px); }
        
        .product-grid { display: grid; grid-template-columns: 1.2fr 0.8fr; gap: 40px; }
        
        .carousel { border-radius: 20px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.05); }
        .carousel-item img { height: 600px; object-fit: cover; width: 100%; }
        
        .price { font-size: 28px; color: var(--sage); font-weight: 700; margin-bottom: 15px; }
        
        .btn-wa { background: var(--sage); color: white; padding: 16px; border-radius: 12px; text-decoration: none; display: block; text-align: center; font-weight: 700; text-transform: uppercase; transition: 0.3s; border: none; }
        .btn-wa:hover { opacity: 0.9; color: white; transform: translateY(-3px); }
        
        .spec-box { background: white; padding: 20px; border-radius: 15px; margin-bottom: 25px; border: 1px solid #eee; }
        
        /* تحسينات الموبايل (Responsive Media Queries) */
        @media (max-width: 992px) { 
            .product-grid { grid-template-columns: 1fr; gap: 30px; } 
            .carousel-item img { height: 450px; } 
            .display-5 { font-size: 1.8rem; }
            .price { font-size: 24px; }
        }

        @media (max-width: 576px) {
            .carousel-item img { height: 350px; }
            .spec-box { padding: 15px; }
            .back-btn { margin: 15px 0; }
        }
    </style>
</head>
<body>
<div class="container pb-5">
    <a href="index.html" class="back-btn">← Back to Collections</a>
    
    <div class="product-grid">
        <div id="pSlider" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner" id="sliderItems"></div>
            <button class="carousel-control-prev" type="button" data-bs-target="#pSlider" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#pSlider" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
            </button>
        </div>

        <div>
            <div class="text-success fw-bold small mb-2">AVAILABLE IN STOCK</div>
            <h1 id="pName" class="display-5 fw-bold mb-3"></h1>
            <div id="pPrice" class="price"></div>
            
            <div class="spec-box shadow-sm">
                <p id="pDesc" class="text-muted mb-4" style="font-size: 15px; line-height: 1.6;"></p>
                <div class="row g-3">
                    <div class="col-6">
                        <strong style="font-size: 14px;">Sizes:</strong><br>
                        <span id="pSizes" class="text-muted small"></span>
                    </div>
                    <div class="col-6">
                        <strong style="font-size: 14px;">Colours:</strong><br>
                        <span id="pColours" class="text-muted small"></span>
                    </div>
                </div>
            </div>

            <a id="waLink" href="#" target="_blank" class="btn-wa shadow-sm">Order via WhatsApp</a>
            <p class="text-center mt-3 small text-muted">Business Number: 01558189590</p>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    const p = JSON.parse(localStorage.getItem('selectedProduct'));
    if (!p) window.location.href = 'index.html';

    document.getElementById('pName').innerText = p.name;
    document.getElementById('pPrice').innerText = p.price + " EGP";
    document.getElementById('pDesc').innerText = p.desc || "No description available.";
    
    // إظهار السعر القديم إذا كان متاحاً (للعروض)
    const oldPriceArea = document.getElementById('pOldPrice');
    if (oldPriceArea && p.oldPrice) {
        oldPriceArea.innerText = p.oldPrice + " EGP";
        oldPriceArea.style.display = "inline";
    }

    // إظهار المقاسات والألوان
    document.getElementById('pSizes').innerText = p.sizes || "One Size";
    document.getElementById('pColours').innerText = p.colours || "Default Color";

    // عرض الصورة الرئيسية في السلايدر
    const sliderContainer = document.getElementById('sliderItems');
    if (p.mainImg) {
        sliderContainer.innerHTML = `
            <div class="carousel-item active">
                <img src="${p.mainImg}" class="d-block w-100" style="height: 450px; object-fit: cover;" alt="${p.name}">
            </div>`;
    }

    // تجهيز رابط الواتساب ليشمل كل التفاصيل
    function sendOrder() {
        const msg = `Hello Be Nice Store!\n\nI want to order:\n*Product:* ${p.name}\n*Price:* ${p.price} EGP\n*Size:* ${p.sizes}\n*Color:* ${p.colours}\n\nPlease confirm availability.`;
        window.open(`https://wa.me/201558189590?text=${encodeURIComponent(msg)}`, '_blank');
    }
    
    // ربط الزر بالدالة
    const waBtn = document.getElementById('waLink');
    if(waBtn) waBtn.onclick = sendOrder;
</script>
</body>
</html>

